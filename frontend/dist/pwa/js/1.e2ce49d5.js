(window["webpackJsonp"]=window["webpackJsonp"]||[]).push([[1],{"6a7c":function(e,t,i){"use strict";i.d(t,"a",(function(){return c}));i("e6cf");var a=i("758b"),n=i("d765");async function o(e,t){try{const i=await a["a"].post("/login",{email:e,senha:t});return n["a"].set("login",i),Object(a["c"])(),i}catch(i){return await Promise.reject(i)}}function l(e){n["a"].set("ispet",{is:!0});const t=n["a"].get("login");t.id_pet=e.id,t.original_nome=t.nome,t.nome=e.nome,t.original_url=t.url,t.url=e.url_foto,n["a"].set("login",t),Object(a["c"])()}function r(){n["a"].delete("ispet");const e=n["a"].get("login");e.nome=e.original_nome,e.url=e.original_url,delete e.id_pet,delete e.original_nome,delete e.original_url,n["a"].set("login",e),Object(a["c"])()}function s(){n["a"].clear()}const c={login:o,iamPet:l,iamUSer:r,logoff:s}},"713b":function(e,t,i){"use strict";i.r(t);var a=function(){var e=this,t=e.$createElement,i=e._self._c||t;return i("q-layout",{attrs:{view:"lHh Lpr lFf"}},[i("q-header",{attrs:{elevated:""}},[i("q-toolbar",[i("q-btn",{attrs:{flat:"",dense:"",round:"",icon:"menu","aria-label":"Menu"},on:{click:function(t){e.leftDrawerOpen=!e.leftDrawerOpen}}}),i("q-toolbar-title",{staticClass:"cursor-pointer",on:{click:function(t){return e.$router.push("/timeline")}}},[e._v("\n        Suggar Puppy\n      ")]),i("div",[e._v(e._s(e.login.nome))])],1)],1),i("q-drawer",{attrs:{"show-if-above":"",bordered:""},model:{value:e.leftDrawerOpen,callback:function(t){e.leftDrawerOpen=t},expression:"leftDrawerOpen"}},[i("q-list",[i("q-item",{attrs:{clickable:"",tag:"a",href:"#/user?id="+e.login.id_usuario}},[i("q-item-section",{attrs:{avatar:""}},[i("q-avatar",[i("img",{attrs:{src:e.login.url}})])],1),i("q-item-section",[e._v(e._s(e.login.nome))])],1),i("q-separator"),e._l(e.essentialLinks,(function(t){return i("EssentialLink",e._b({key:t.title},"EssentialLink",t,!1))}))],2)],1),i("q-page-container",[i("router-view")],1),i("q-dialog",{attrs:{value:e.show_pet_dialog},on:{input:function(t){return e.fecharPetDialog()}}},[i("q-card",{staticStyle:{width:"480px","max-width":"80vw"}},[i("q-card-section",[i("q-select",{attrs:{label:"Usar app como Pet",value:e.petSelecionadoExibicao,options:e.listaPets},on:{input:function(t){return e.atualizarPetSelect(t)}},scopedSlots:e._u([{key:"option",fn:function(t){return[i("q-item",e._g(e._b({},"q-item",t.itemProps,!1),t.itemEvents),[i("q-item-section",[i("q-item-label",[e._v("\n                  "+e._s(t.opt.nome)+"\n                ")])],1)],1)]}}])})],1),i("q-card-actions",{staticClass:"flex justify-evenly"},[i("q-btn",{attrs:{unelevated:"",label:"Cancelar"},on:{click:e.fecharPetDialog}}),i("q-btn",{attrs:{unelevated:"",color:"primary",label:"Usar Selecionado"},on:{click:e.usarPet}})],1)],1)],1)],1)},n=[],o=i("d765"),l=i("6a7c"),r=function(){var e=this,t=e.$createElement,i=e._self._c||t;return e.visible?i("q-item",{attrs:{clickable:"",tag:"a",href:e.link},on:{click:function(t){return e.handleClick(e.click)}}},[e.icon?i("q-item-section",{attrs:{avatar:""}},[i("q-icon",{attrs:{name:e.icon}})],1):e._e(),i("q-item-section",[i("q-item-label",[e._v(e._s(e.title))])],1)],1):e._e()},s=[],c={name:"EssentialLink",props:{title:{type:String,required:!0},caption:{type:String,default:""},link:{default:!1},click:{default:!1},icon:{type:String,default:""},visible:{type:Boolean,default:!0}},methods:{handleClick(e){e&&this.$root.$emit(e,!0)}}},u=c,p=i("2877"),d=i("66e5"),g=i("4074"),m=i("0016"),h=i("0170"),f=i("eebe"),b=i.n(f),_=Object(p["a"])(u,r,s,!1,null,null,null),v=_.exports;b()(_,"components",{QItem:d["a"],QItemSection:g["a"],QIcon:m["a"],QItemLabel:h["a"]});let k=Boolean(o["a"].get("ispet"));const q=e=>[{title:"Início",icon:"home",link:"#/timeline",visible:!0},{title:"Pesquisar",icon:"search",link:"#/search",visible:!e},{title:"Meus Pets",icon:"pets",link:"#/my-pets",visible:!e},{title:"Usar como Pet",icon:"swap_vert",click:"changeToPet",visible:!e},{title:"Usar como Usuário",icon:"swap_vert",click:"changeToUser",visible:e},{title:"Sair",icon:"power_settings_new",link:"#/logout"}];var w={name:"MainLayout",components:{EssentialLink:v},data(){return{leftDrawerOpen:!1,essentialLinks:q(k),login:o["a"].get("login"),show_pet_dialog:!1,listaPets:o["a"].get("pets"),petSelecionado:null,petSelecionadoExibicao:null}},beforeCreate(){o["a"].get("login")||this.$router.push("/")},created(){this.$root.$on("changeToPet",this.changeToPet),this.$root.$on("changeToUser",this.changeToUser)},methods:{fecharPetDialog(){this.show_pet_dialog=!1},changeToPet(){this.leftDrawerOpen=!1,this.listaPets.length>0?this.show_pet_dialog=!0:this.$q.notify({message:"Você não tem nenhum pet",color:"info"})},atualizarPetSelect(e){this.petSelecionado=e,this.petSelecionadoExibicao=e.nome},usarPet(){this.leftDrawerOpen=!1,k=!0,l["a"].iamPet(this.petSelecionado),this.essentialLinks=q(k),this.login=o["a"].get("login"),this.$router.go()},changeToUser(){k=!1,this.petSelecionado=null,this.petSelecionadoExibicao=null,l["a"].iamUSer(),this.essentialLinks=q(k),this.login=o["a"].get("login"),this.$router.go()}}},S=w,P=(i("b5df"),i("4d5a")),Q=i("e359"),y=i("65c6"),L=i("9c40"),D=i("6ac5"),O=i("9404"),$=i("1c1c"),E=i("cb32"),T=i("eb85"),U=i("09e3"),x=i("24e8"),C=i("f09f"),I=i("a370"),j=i("ddd8"),B=i("4b7e"),M=Object(p["a"])(S,a,n,!1,null,"dc81d334",null);t["default"]=M.exports;b()(M,"components",{QLayout:P["a"],QHeader:Q["a"],QToolbar:y["a"],QBtn:L["a"],QToolbarTitle:D["a"],QDrawer:O["a"],QList:$["a"],QItem:d["a"],QItemSection:g["a"],QAvatar:E["a"],QSeparator:T["a"],QPageContainer:U["a"],QDialog:x["a"],QCard:C["a"],QCardSection:I["a"],QSelect:j["a"],QItemLabel:h["a"],QCardActions:B["a"]})},"7b68":function(e,t,i){},b5df:function(e,t,i){"use strict";var a=i("7b68"),n=i.n(a);n.a}}]);