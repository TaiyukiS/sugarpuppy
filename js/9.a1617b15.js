(window["webpackJsonp"]=window["webpackJsonp"]||[]).push([[9],{"34bf":function(t,i,e){"use strict";var a=e("dff0"),s=e.n(a);s.a},a2ee:function(t,i,e){"use strict";e.d(i,"a",(function(){return p}));e("e6cf");var a=e("758b"),s=e("d765");function l(t){return a["a"].get("/pets",{params:t}).catch((t=>Promise.reject(t)))}function o(t){return a["a"].post(`/pets/${t}/like`).catch((t=>Promise.reject(t)))}function n(t){return a["a"].post(`/pets/${t}/dislike`).catch((t=>Promise.reject(t)))}function r(){return a["a"].get("/pets/caracteristicas").catch((t=>Promise.reject(t)))}function c(){return a["a"].get("/pets/meus").then((t=>(s["a"].set("pets",t),t))).catch((t=>Promise.reject(t)))}function d(t){return a["a"].post(`/pets/${t}/adotar`).catch((t=>Promise.reject(t)))}function u(t){return a["a"].post(`/pets/${t}/desadotar`).catch((t=>Promise.reject(t)))}function m(t){return a["a"].post(`/pets/${t}/follow`).catch((t=>Promise.reject(t)))}function f(t){return a["a"].post(`/pets/${t}/unfollow`).catch((t=>Promise.reject(t)))}function h(t){return a["a"].get(`/pets/${t}/detalhe`).catch((t=>Promise.reject(t)))}const p={get:l,like:o,dislike:n,getCaracteristicas:r,getMeus:c,adotar:d,desadotar:u,follow:m,unfollow:f,getDetalhes:h}},dff0:function(t,i,e){},e5b4:function(t,i,e){"use strict";e.r(i);var a=function(){var t=this,i=t.$createElement,e=t._self._c||i;return e("div",{staticClass:"flex items-center q-pt-sm q-px-sm"},[t.msgPesquisando?e("h6",[t._v("Pesquisando...")]):t._e(),t.msgZeroResults?e("h6",[t._v("Sem Resultados")]):t._e(),e("q-carousel",{ref:"carrosel",staticClass:"q-mb-md",attrs:{slide:"style",swipeable:"",animated:"","transition-prev":"slide-right","transition-next":"slide-left",padding:"",height:"460px"},on:{transition:t.transitioned},model:{value:t.slide,callback:function(i){t.slide=i},expression:"slide"}},t._l(t.petList,(function(i){return e("q-carousel-slide",{key:i.id,attrs:{name:i.id}},[e("a",{on:{click:function(e){return t.$router.push("/pet?id="+i.id)}}},[e("figure",{staticClass:"relative-position"},[i.loading?e("q-icon",{staticClass:"marked-pet",attrs:{name:"sync"}}):t._e(),"N"===i.like?e("q-icon",{staticClass:"marked-pet",attrs:{color:"negative",name:"close"}}):t._e(),"S"===i.like?e("q-icon",{staticClass:"marked-pet",attrs:{color:"primary",name:"done"}}):t._e(),e("img",{staticClass:"profile-picture",attrs:{alt:"Foto do Perfil",src:i.url_foto}})],1),e("h4",{staticClass:"text-center"},[t._v(t._s(i.nome))])]),e("article",[t._v(t._s(i.descricao))])])})),1),e("div",{staticClass:"buttons flex q-mb-md q-px-sm"},[t.petList.length>0?e("q-btn",{attrs:{disable:t.blockDislike,rounded:"",color:"negative",icon:"close"},on:{click:t.dislikePet}}):t._e(),e("q-btn",{staticClass:"mini",attrs:{rounded:"",icon:"tune"},on:{click:function(i){t.configAberta=!0}}}),t.petList.length>0?e("q-btn",{attrs:{disable:t.blockLike,rounded:"",color:"primary",icon:"done"},on:{click:t.likePet}}):t._e()],1),e("q-dialog",{attrs:{value:t.configAberta},on:{hide:function(i){t.configAberta=!1}}},[e("q-card",{staticStyle:{width:"700px","max-width":"80vw"}},[e("q-card-section",[e("h4",[t._v("Filtros")])]),e("q-card-section",[e("q-select",{attrs:{label:"Animal",value:t.filtroAnimalExibicao,options:t.listaAnimal},on:{input:function(i){return t.atualizarFiltro("Animal",i)}},scopedSlots:t._u([{key:"option",fn:function(i){return[e("q-item",t._g(t._b({},"q-item",i.itemProps,!1),i.itemEvents),[e("q-item-section",[e("q-item-label",[t._v("\n                  "+t._s(i.opt.nome)+"\n                ")])],1)],1)]}}])}),e("q-select",{attrs:{label:"RaÃ§a",value:t.filtroRacaExibicao,options:t.listaRacaFiltrado},on:{input:function(i){return t.atualizarFiltro("Raca",i)}},scopedSlots:t._u([{key:"option",fn:function(i){return[e("q-item",t._g(t._b({},"q-item",i.itemProps,!1),i.itemEvents),[e("q-item-section",[e("q-item-label",[t._v("\n                  "+t._s(i.opt.nome)+"\n                ")])],1)],1)]}}])}),e("q-select",{attrs:{label:"Cor",value:t.filtroCorExibicao,options:t.listaCor},on:{input:function(i){return t.atualizarFiltro("Cor",i)}},scopedSlots:t._u([{key:"option",fn:function(i){return[e("q-item",t._g(t._b({},"q-item",i.itemProps,!1),i.itemEvents),[e("q-item-section",[e("q-item-label",[t._v("\n                  "+t._s(i.opt.nome)+"\n                ")])],1)],1)]}}])}),e("q-select",{attrs:{label:"Estado",value:t.filtroEstadoExibicao,options:t.listaEstado},on:{input:function(i){return t.atualizarFiltro("Estado",i)}},scopedSlots:t._u([{key:"option",fn:function(i){return[e("q-item",t._g(t._b({},"q-item",i.itemProps,!1),i.itemEvents),[e("q-item-section",[e("q-item-label",[t._v("\n                  "+t._s(i.opt.nome)+"\n                ")])],1)],1)]}}])}),e("q-select",{attrs:{label:"Cidade",value:t.filtroCidadeExibicao,options:t.listaCidadeFiltrado},on:{input:function(i){return t.atualizarFiltro("Cidade",i)}},scopedSlots:t._u([{key:"option",fn:function(i){return[e("q-item",t._g(t._b({},"q-item",i.itemProps,!1),i.itemEvents),[e("q-item-section",[e("q-item-label",[t._v("\n                  "+t._s(i.opt.nome)+"\n                ")])],1)],1)]}}])})],1),e("q-card-section",[e("q-btn",{attrs:{label:"Cancelar"},on:{click:function(i){t.configAberta=!1}}}),e("q-btn",{staticClass:"q-ml-md",attrs:{label:"Limpar"},on:{click:t.limparFiltros}}),e("q-btn",{staticClass:"float-right",attrs:{color:"primary",label:"Filtrar"},on:{click:t.filtrarPets}})],1)],1)],1)],1)},s=[],l=e("d765"),o=e("a2ee");const n=t=>i=>(i.id===t&&(i.loading=!0,i.like=null),i),r=t=>i=>(i.id===t&&(i.loading=!1,i.like="S"),i),c=t=>i=>(i.id===t&&(i.loading=!1,i.like="N"),i);var d={name:"SearchPet",data(){return{slide:1,msgPesquisando:!1,msgZeroResults:!1,configAberta:!1,blockLike:!1,blockDislike:!1,petList:[],listaAnimal:[],filtroAnimal:null,filtroAnimalExibicao:null,listaRaca:[],listaRacaFiltrado:[],filtroRaca:null,filtroRacaExibicao:null,listaCor:[],filtroCor:null,filtroCorExibicao:null,listaEstado:[],filtroEstado:null,filtroEstadoExibicao:null,listaCidade:[],listaCidadeFiltrado:[],filtroCidade:null,filtroCidadeExibicao:null}},beforeCreate(){console.log(l["a"].get("ispet")),l["a"].get("ispet")&&this.$router.push("/timeline")},mounted(){this.msgPesquisando=!0,this.msgZeroResults=!1,o["a"].get({nao_vinculado:!0}).then((t=>{this.msgPesquisando=!1,this.petList=t,t.length>0?this.slide=t[0].id:this.msgZeroResults=!0})),o["a"].getCaracteristicas().then((t=>{this.listaAnimal=t.animais,this.listaRaca=t.racas,this.listaRacaFiltrado=t.racas,this.listaCor=t.cores,this.listaEstado=t.estados,this.listaCidade=t.cidades,this.listaCidadeFiltrado=t.cidades}))},methods:{atualizarFiltro(t,i){this["filtro"+t]=i,this[`filtro${t}Exibicao`]=i.nome,"Animal"===t?(this.listaRacaFiltrado=this.listaRaca.filter((t=>t.id_animal===i.id||!t.id_animal)),this.filtroRaca=null,this.filtroRacaExibicao=null):"Estado"===t&&(this.listaCidadeFiltrado=this.listaCidade.filter((t=>t.id_estado===i.id)),this.filtroCidade=null,this.filtroCidadeExibicao=null)},transitioned(){this.blockLike=!1,this.blockDislike=!1;const t=this.petList.filter((t=>t.id===this.slide));"S"===t[0].like&&(this.blockLike=!0),"N"===t[0].like&&(this.blockDislike=!0)},likePet(){const t=this.slide;this.petList=this.petList.map(n(t)),o["a"].like(t).then((i=>{this.petList=this.petList.map(r(t))})),this.$refs.carrosel.next()},dislikePet(){const t=this.slide;this.petList=this.petList.map(n(t)),o["a"].dislike(t).then((i=>{this.petList=this.petList.map(c(t))})),this.$refs.carrosel.next()},limparFiltros(){this.listaRacaFiltrado=this.listaRaca,this.listaCidadeFiltrado=this.listaCidade,this.filtroAnimal=null,this.filtroAnimalExibicao="",this.filtroRaca=null,this.filtroRacaExibicao="",this.filtroCor=null,this.filtroCorExibicao="",this.filtroEstado=null,this.filtroEstadoExibicao="",this.filtroCidade=null,this.filtroCidadeExibicao=""},filtrarPets(){this.petList=[],this.configAberta=!1,this.msgPesquisando=!0,this.msgZeroResults=!1,o["a"].get({animal:this.filtroAnimal?this.filtroAnimal.id:null,raca:this.filtroRaca?this.filtroRaca.id:null,cor:this.filtroCor?this.filtroCor.id:null,estado:this.filtroEstado?this.filtroEstado.id:null,cidade:this.filtroCidade?this.filtroCidade.id:null,nao_vinculado:!0}).then((t=>{this.msgPesquisando=!1,this.petList=t,t.length>0?this.slide=t[0].id:this.msgZeroResults=!0}))}}},u=d,m=(e("34bf"),e("2877")),f=e("880c"),h=e("62cd"),p=e("0016"),b=e("9c40"),g=e("24e8"),q=e("f09f"),C=e("a370"),k=e("ddd8"),_=e("66e5"),E=e("4074"),v=e("0170"),x=e("09e3"),P=e("eebe"),R=e.n(P),L=Object(m["a"])(u,a,s,!1,null,"06f735f4",null);i["default"]=L.exports;R()(L,"components",{QCarousel:f["a"],QCarouselSlide:h["a"],QIcon:p["a"],QBtn:b["a"],QDialog:g["a"],QCard:q["a"],QCardSection:C["a"],QSelect:k["a"],QItem:_["a"],QItemSection:E["a"],QItemLabel:v["a"],QPageContainer:x["a"]})}}]);